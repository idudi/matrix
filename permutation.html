<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>
        Permutation Matrix
    </title>
</head>
<body>

    <table id="matrix"></table>
    <br /><br /><br /><a href="https://en.wikipedia.org/wiki/Permutation_matrix">wiki</a>

    <script>
        const maxRows = 5;
        const maxCols = 5;
        const matrix = [];
        var counter = 0;

        //preset matrix
        for (let i = 0; i < maxRows; i++) {
            matrix.push([0])
            for (let j = 0; j < maxCols; j++) {
                matrix[i][j] = 0;
            }
        }

        //set matrix
        for (;counter < maxCols;) {
            let col = getRandomInt(0, maxCols - 1);
            let row = getRandomInt(0, maxRows - 1);
            if (isColumnEmpty(col) && isRowEmpty(row)) {
                matrix[row][col] = 1;
                counter++;
            }
        }

        //display matrix
        for (let i = 0; i < maxRows; i++) {
            let row = document.createElement('tr');
            row.setAttribute('data-index', i);
            document.querySelector('#matrix').appendChild(row);
            for (let j = 0; j < maxCols; j++) {
                let cell = document.createElement('td');
                cell.setAttribute('data-row', i);
                cell.setAttribute('data-col', j);
                cell.innerText = matrix[i][j];
                row.appendChild(cell);
            }
        }

        console.log(matrix);
        console.log(JSON.stringify(matrix));

        function isColumnEmpty(col) {
            for (var x = 0; x < maxCols; x++) {
                if (matrix[x][col] === 1) {
                    return false;
                }
            }
            return true;
        }

        function isRowEmpty(row) {
            for (var x = 0; x < maxCols; x++) {
                if (matrix[row][x] === 1) {
                    return false;
                }
            }
            return true;
        }


        function getRandomInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

    </script>

</body>
</html>